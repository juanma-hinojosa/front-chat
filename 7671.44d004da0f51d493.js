"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7671],{7671:(M,g,c)=>{c.r(g),c.d(g,{HomePageModule:()=>C});var m=c(6895),o=c(4556),a=c(433),u=c(1407);class p{static noWhiteSpace(s){return 0===(s.value||"").trim().length?{whitespace:!0}:null}}var e=c(8256),d=c(2340),f=c(529);let h=(()=>{class t{constructor(n){this.http=n}sendQuestion(n){return this.http.post(d.N.baseUrl,{promt:n})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function v(t,s){1&t&&(e.TgZ(0,"div",12),e._UZ(1,"ion-icon",13),e.TgZ(2,"h4"),e._uU(3,"Escribe algo..."),e.qZA()())}function b(t,s){1&t&&e._UZ(0,"ion-spinner",20)}const P=function(t){return{bot:t}};function x(t,s){if(1&t&&(e.TgZ(0,"ion-item",14)(1,"ion-badge",15),e._UZ(2,"ion-icon",16),e.qZA(),e.TgZ(3,"ion-label",17)(4,"p",18),e._uU(5),e.qZA(),e.YNc(6,b,1,0,"ion-spinner",19),e.qZA()()),2&t){const n=s.$implicit,i=s.index,r=e.oxw();e.Q6J("ngClass",e.VKq(5,P,"me"!==n.sender)),e.xp6(1),e.Q6J("color","me"==n.sender?"success":"tertiary"),e.xp6(1),e.Q6J("src","me"==n.sender?"assets/user.svg":"assets/bot.svg"),e.xp6(3),e.hij(" ",n.content," "),e.xp6(1),e.Q6J("ngIf",r.loading&&i+1==r.messages.length)}}const y=[{path:"",component:(()=>{class t{constructor(n){this.openAi=n,this.messages=[],this.form=new a.cw({promt:new a.NI("",[a.kI.required,p.noWhiteSpace])}),this.loading=!1}submit(){if(console.log(this.form.value),this.form.valid){let n=this.form.value.promt;this.messages.push({sender:"me",content:n}),this.messages.push({sender:"bot",content:""}),this.scrollToBottom(),this.form.reset(),this.form.disable(),this.loading=!0,this.openAi.sendQuestion(n).subscribe({next:l=>{console.log(l),this.loading=!1,this.typetext(l.bot),this.form.enable()},error:l=>{console.log(l)}})}}typetext(n){let i=0,r=this.messages.length-1,l=setInterval(()=>{i<n.length?(this.messages[r].content+=n.charAt(i),i++):(clearInterval(l),this.scrollToBottom())},15)}scrollToBottom(){this.content.scrollToBottom(2e3)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(n,i){if(1&n&&e.Gf(o.W2,5),2&n){let r;e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:16,vars:6,consts:[[3,"translucent"],[1,"ion-text-center"],[3,"scrollEvents"],["class","empty",4,"ngIf"],["lines","none","class","chat-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"ion-padding"],[3,"formGroup","ngSubmit","keyup.enter"],["lines","none",1,"text-box-item"],["formControlName","promt","auto-grow","true","placeholder","Escribe algo....."],["slot","end"],["color","tertiary","type","submit",3,"disabled"],["name","send",1,"submit-icon"],[1,"empty"],["src","assets/bot.svg"],["lines","none",1,"chat-item",3,"ngClass"],["slot","start","mode","ios",3,"color"],[1,"chat-icon",3,"src"],[1,"ion-text-wrap"],[1,"w-space"],["color","tertiary","name","dots",4,"ngIf"],["color","tertiary","name","dots"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1)(3,"strong"),e._uU(4,"Smart"),e.qZA(),e._uU(5,"Chat "),e.qZA()()(),e.TgZ(6,"ion-content",2),e.YNc(7,v,4,0,"div",3),e.YNc(8,x,7,7,"ion-item",4),e.qZA(),e.TgZ(9,"ion-footer",5)(10,"form",6),e.NdJ("ngSubmit",function(){return i.submit()})("keyup.enter",function(){return i.submit()}),e.TgZ(11,"ion-item",7),e._UZ(12,"ion-textarea",8),e.TgZ(13,"ion-buttons",9)(14,"ion-button",10),e._UZ(15,"ion-icon",11),e.qZA()()()()()),2&n&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("scrollEvents",!0),e.xp6(1),e.Q6J("ngIf",!i.messages.length),e.xp6(1),e.Q6J("ngForOf",i.messages),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(4),e.Q6J("disabled",i.form.invalid))},dependencies:[m.mk,m.sg,m.O5,a._Y,a.JJ,a.JL,o.yp,o.YG,o.Sm,o.W2,o.fr,o.Gu,o.gu,o.Ie,o.Q$,o.PQ,o.g2,o.wd,o.sr,o.j9,a.sg,a.u],styles:[".chat-item[_ngcontent-%COMP%]{--padding-top: 10px;--padding-bottom: 10px}.chat-item.bot[_ngcontent-%COMP%]{--background: transparent}.text-box-item[_ngcontent-%COMP%]{--border-radius: 15px;--background: var(--ion-color-light)}.chat-icon[_ngcontent-%COMP%]{font-size:13px}ion-badge[_ngcontent-%COMP%]{padding:15px}.w-space[_ngcontent-%COMP%]{white-space:pre-line}.submit-icon[_ngcontent-%COMP%]{font-size:25px}.empty[_ngcontent-%COMP%]{text-align:center;padding-top:25vh;opacity:30%}.empty[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:120px}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(y),u.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,a.u5,o.Pc,Z,a.UX]}),t})()}}]);